---
layout: post
title: "Methods & Results"
subtitle: "What did we do to conduct our research question & How does it turn out"
date: 2023-02-31 10:45:13 -0400
background: '/img/posts/06.jpg'
author: Jonathan Hecht
---
> i think i would make to articles out of this 

# Objectives
Unser Ansatz beruht auf der Idee des GANmapper Papers, welches die Generierung von Gebäudegrundrissen auf Basis Straßentypen durchführt. Wie bereits erläutert wurde, wurde das orginale GANmapper Paper auf neun große Städte weltweit unterschiedlich erfolgreich angewandt. Um die Möglichkeiten und Einschränkungen weiter zu testen, soll hier herausgefunden werden,
* a) inwieweit sich die gleiche Modell Archtitektur mit unterschiedlichen Daten auch auf andere Verdichtungsgrade und städtische Morphologien anwenden lässt.
* b) ob das Modell mit neuen Trainingsdaten auch auf eine andere Stadt übertragen lässt.

Hamburg und die umgebenden Kreise wurden als Beispiel für eine neue Stadt gewählt, da die Region uns bekannt ist, welches bei der Einschätzung von Straßen und Situation helfen kann und den Prozess beschleunigt. In Bezug auf Ziel a) wurden, wie im [Data Chapter](2023-07-07-data.md) beschrieben, zwei Datensätze vorbereitet. Da nur der erste Datensatz getestet werden konnte, wird im Anschluss nur auf diese Experimente eingegangen. Bei dem Ansatz wurde die Bevölkerungsdichte als Indikator genommen, um basierend darauf eine Einteilung in drei Klassen vorzunehmen. Diese drei Klassen sollen eine Approximation Verdichtungsgrade sowie daraus resultierend unterschiedlichen Morphologien darstellen. Drei Klassen sind nur eine Vereinfachung von Verdichtungsgraden und unterschiedlichen stadtmorphologischen Typen. Allein in Deutschland kennt die regionalstatistische Raumtopologie teilweise 29 Raumtypen, wobei hier zwischen Haupttypen und Untertypen unterschieden wird [^1]. Dies ist nur ein kleines Beispiel, dass die Einteilung nach Raumtypen je nach Inhalt und Kontext unterschiedlich sein kann und auch eine andere Klasseneinteilung sinnvoll sein kann.

> erläuterung zu drei klassen hier oder in data?

# Experiments
Um die Fragestellungen zu beantworten, wurde grundlegenden die bestehende Architektur des GANmapper Papers, sowie deren Standard Parameter verwendet. Dabei konnte nur ein Experiment durchgeführt werden. Die Vorbereitung und Klassenbildung der Daten wurde bereits im Kapitel [Data](2023-07-07-data.md) beschrieben. Die technische Umsetzung erfolgte zunächst testweise auf dem lokalen Computer und das eigentliche Training später in [Google Colab](https://colab.research.google.com/). Hierzu wurde der Anleitung zur Nutzung im [Github Repo](https://github.com/ualsg/GANmapper) zum GANmapper Paper gefolgt. Some comments regarding the installtion can be found in the [addtional ressources](2023-07-07-additional.md).

## Parameters and their explanation

* about 30 base options for trianing and testing
* not all are really parameters some are just simple paths and do not really influence the results
* always ciombination of parameters
* after sorting out least these parameters seems to be relevant
* not including deeper changes of the code

* maybe as table -> flag name , explanition in their code -> our settings???

* we used the following settings which were found in their experiments as a starting point for the three experiments
* usually procedure to train a gan / what would we firstly change (Maybe five parameters)

* and we need to include the loss 




### MOst influencealy parameters:   

<div style="overflow-x:auto;">

<table>

<tbody>

<tr style="outline: thin solid">

<th>Flag name</th>

<th>Self description</th>

<th>Default value</th>

<th>Used value</th>

<th>Influence</th>

</tr>

<tr style="outline: thin solid">

<td>model</td>

<td>-</td>

<td>pix2pix</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>input_nc</td>

<td># of input image channels: 3 for RGB and 1 for grayscale</td>

<td>3</td>

<td>3</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>output_nc</td>

<td># of output image channels: 3 for RGB and 1 for grayscale</td>

<td>3</td>

<td>3</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>ngf</td>

<td># of gen filters in the last conv layer</td>

<td>64</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>ndf</td>

<td># of discrim filters in the first conv layer</td>

<td>64</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>netD</td>

<td>specify discriminator architecture [basic | n_layers | pixel]. The basic model is a 70x70 PatchGAN. n_layers allows you to specify the layers in the discriminator</td>

<td>basic</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>netG</td>

<td>specify generator architecture [resnet_9blocks | resnet_6blocks | unet_256 | unet_128]</td>

<td>resnet_9blocks</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>norm</td>

<td>instance normalization or batch normalization [instance | batch | none]</td>

<td>instance</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>init_type</td>

<td>network initialization [normal | xavier | kaiming | orthogonal]</td>

<td>normal</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>init_gain</td>

<td>scaling factor for normal, xavier and orthogonal.</td>

<td>0.02</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>no_dropout</td>

<td>no dropout for the generator</td>

<td>store_true</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>serial_batches</td>

<td>if true, takes images in order to make batches, otherwise takes them randomly</td>

<td>store_true</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>batch_size</td>

<td>input batch size</td>

<td>1</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>load_size</td>

<td>scale images to this size</td>

<td>512</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>crop_size</td>

<td>then crop to this size/td></td>

<td>512</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>n_epochs</td>

<td>number of epochs with the initial learning rate</td>

<td>150</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>n_epochs_decay</td>

<td>number of epochs to linearly decay learning rate to zero</td>

<td>150</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>beta1</td>

<td>momentum term of adam</td>

<td>0.5</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>lr</td>

<td>initial learning rate for adam</td>

<td>0.0002</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>gan_mode</td>

<td>the type of GAN objective. [vanilla| lsgan | wgangp]. vanilla GAN loss is the cross-entropy objective used in the original GAN paper.</td>

<td>lsgan</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>pool_size</td>

<td>the size of image buffer that stores previously generated images</td>

<td>50</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>lr_policy</td>

<td>learning rate policy. [linear | step | plateau | cosine]</td>

<td>linear</td>

<td>-</td>

<td>-</td>

</tr>

<tr style="outline: thin solid">

<td>lr_decay_iters</td>

<td>multiply by a gamma every lr_decay_iters iterations</td>

<td>50</td>

<td>-</td>

<td>-</td>

</tr>

</tbody>

</table>

</div>
<span class='caption text-muted'>Figure N: Example training data for the second approach</span>






# Results
* present results
* show samples
    * good one's
    * bad one's
* training loss

> Maybe seperated results folder

<img class='img-fluid' src='/GANmapper-Project/img/posts/example_results.drawio.png' alt='Example training data for the second approach'>
<span class='caption text-muted'>Figure N: Example training data for the second approach</span>


# Interpretation
* Analysis and results(without interpretation and discussion
* Interpretation
* Outcome of the experiment,take home message
> it is possible for hamburg & more 
> adapt
* Note: Analysis and discussion can also be combined ->
> what is meant with analysis



* Experiment objective(what should be demonstrated, why is the experiment conducted
> is the model able to be used for different degree of urbanism + morphology of a town
* Means to achieve the objective (can be included in the objective)
> wir adaptieren die ganze scheiße ohne parameter groß zu ändern 
* Task,e.g.,classification|detection|segmentation|.
> generation
* Optional: Sub-experiments or individual experiments (e.g.,parameter variation
> more or less default parameters
> mostly no results 


* which settings did we use from the ganmapper project
* limitations
* sample images
* used loss function
> how much explanation should i put here



---
#### References
[^1]: Federal Ministry of Transport and Digital Infrastructure (BMVI)(2021): Regional Statistical Spatial Typology for Mobility and Transport Research (RegioStaR). https://bmdv.bund.de/SharedDocs/DE/Anlage/G/regiostar-raumtypologie-englisch.pdf?__blob=publicationFile